<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick-theme.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.js"></script>
<!---- for icon style------>
<link href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">


<link rel="stylesheet" href="landing_style.css">
<div class="wrapper">
    <div class="page-header page-header-small">
        <div class="page-header-image rellax-header" data-rellax-speed="-8"
             style="background-image: url('assets/img/bg_landing.jpg');">
        </div>
        <div class="container">
            <div class="content-center">
                <h1 class="title">Leanrly</h1>
                <h1 class="title">1on1 Online Education Plateform</h1>
            </div>
        </div>
    </div>
    <div class="section section-about-us">
        <div class="container">
            <div class="card" style=" margin-left: -300px;">
                <div class="container-fliud">
                    <div class="wrapper row">
                        <div class="preview col-md-6">

                            <div class="preview-pic tab-content">
                                <div class="tab-pane active" id="pic-1">
                                    <img src="{{API_IMAGE_FETCH + '/' + course?._id + '/resources'}}"/>
                                </div>
                                <div class="tab-pane" id="pic-2"><img src="http://placekitten.com/400/252"/></div>
                                <div class="tab-pane" id="pic-3"><img src="http://placekitten.com/400/252"/></div>
                                <div class="tab-pane" id="pic-4"><img src="http://placekitten.com/400/252"/></div>
                                <div class="tab-pane" id="pic-5"><img src="http://placekitten.com/400/252"/></div>
                            </div>


                        </div>
                        <div class="details col-md-6">
                            <h3 class="product-title">{{course?.title}}</h3>
                            <div class="rating">
                                <div class="stars">
                                    <span *ngFor="let item of [].constructor(activeStars)"
                                          class="fa fa-star checked"></span>
                                    <span *ngFor="let item of [].constructor(inactiveStars)"
                                          class="fa fa-star-o"></span>
                                </div>
                                <span class="review-no">{{this.course?.ratings.length}} reviews</span>
                            </div>
                            <p class="product-description">{{course?.description}}</p>
                            <h4 class="price">current price: <span>{{course?.basicprice}} Dt</span></h4>
                            <h5 class="sizes">Date of Course: {{course?.date}}

                            </h5>

                            <div class="action">
                                <button class="add-to-cart btn btn-default"
                                        type="button"
                                        (click)="open(couponCheckout, '', '')"
                                        *ngIf=" course && isCouponBought()"
                                >add to cart</button>
                                <button class="add-to-cart btn btn-default"
                                        type="button"
                                        (click)="open(awaitCoursePurchase, 'purchase', '')"
                                        *ngIf=" course && !isCouponBought()"
                                >Buy course</button>
                                <button class="like btn btn-default" type="button"
                                        (click)="open(classic,'' , '')">
                                    <span class="fa fa-heart"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <ng-template #classic let-c="close" let-d="dismiss">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="text-right cross"><i class="fa fa-times mr-2"></i></div>
                    <div class="card-body text-center"><img src=" https://i.imgur.com/d2dKtI7.png" height="100"
                                                            width="100">
                        <div class="comment-box text-center">
                            <h4>Add a comment</h4>
                            <div class="rating">
                                <input type="radio" name="rating" [value]="5" id="5" [(ngModel)]="ratedStarsCount">
                                <label for="5">☆</label>
                                <input type="radio" name="rating" [value]="4" id="4" [(ngModel)]="ratedStarsCount">
                                <label for="4">☆</label>
                                <input type="radio" name="rating" [value]="3" id="3" [(ngModel)]="ratedStarsCount">
                                <label for="3">☆</label>
                                <input type="radio" name="rating" [value]="2" id="2" [(ngModel)]="ratedStarsCount">
                                <label for="2">☆</label>
                                <input type="radio" name="rating" [value]="1" id="1" [(ngModel)]="ratedStarsCount">
                                <label for="1">☆</label>
                            </div>
                            <div class="comment-area">
                                    <textarea
                                            class="form-control"
                                            placeholder="what is your view?"
                                            rows="4"
                                            [(ngModel)]="comment"
                                    >

                                    </textarea>
                            </div>
                            <div class="text-center mt-4">
                                <button class="btn btn-success send px-5" (click)="handleOnRatingPopupSubmitted()">
                                    Send message <i class="fa fa-long-arrow-right ml-1"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-template>


        <div class="card card-nav-tabs card-plain"
             style="height: 20%;width: 20%;margin-left:1500px ;margin-top: -200px;">
            <div class="card-header card-header-danger">
                <!-- colors: "header-primary", "header-info", "header-success", "header-warning", "header-danger" -->
                <div class="nav-tabs-navigation">
                    <div class="nav-tabs-wrapper">
                        <ul class="nav nav-tabs" data-tabs="tabs">
                            <li class="nav-item">
                                <a class="nav-link active" href="#home" data-toggle="tab">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#updates" data-toggle="tab">Updates</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="#history" data-toggle="tab">History</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <h2 class="text-center">Comment Section ({{course?.comments.length}})</h2>
        <div class="card" style="margin-left: -300px;">
            <div class="card-body" *ngFor="let comment of course?.comments">
                <app-comment [comment]="{comment: comment, rating: getRatingByComment(course, comment.timeStamp)  }"></app-comment>
            </div>
        </div>
    </div>

    <ng-template #couponCheckout let-c="close" let-d="dismiss">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="card-body text-center">
                    <img src="https://cdn0.iconfinder.com/data/icons/flat-design-business-set-2/24/coupon-green-512.png"
                         height="100"
                         width="100">
                    <div class="comment-box text-center">
                        <h4>Enter the coupon code</h4>
                        <div class="comment-area">
                            <input type="text"
                                   class="form-control"
                                   placeholder="w8987..."
                                   [(ngModel)]="inputCouponCode"
                                   (change)="onCouponCodeChanged()"
                            />
                        </div>
                        <div class="text-center mt-4">
                            <button class="btn btn-success send px-5"
                                    *ngIf="onCouponCodeChanged()"
                            (click)="onCouponCodeSubmitted()">
                                Get course event <i class="fa fa-long-arrow-right ml-1"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </ng-template>

    <ng-template #awaitCoursePurchase let-c="close" let-d="dismiss">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="card-body text-center">
                    <img src="https://cdn0.iconfinder.com/data/icons/flat-design-business-set-2/24/coupon-green-512.png"
                         height="100"
                         width="100">
                    <div class="comment-box text-center">
                        <h4>Please check your email to confirm order & retrieve coupons code</h4>
                        </div>
                    </div>
                </div>
            </div>
    </ng-template>
    <footer class="footer footer-default">
        <div class="container">
            <nav>
                <ul>
                    <li>
                        <a href="https://www.creative-tim.com">
                            Creative Tim
                        </a>
                    </li>
                    <li>
                        <a href="https://www.creative-tim.com/about-us">
                            About Us
                        </a>
                    </li>
                    <li>
                        <a href="http://blog.creative-tim.com">
                            Blog
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/creativetimofficial/now-ui-kit/blob/master/LICENSE.md">
                            MIT License
                        </a>
                    </li>
                </ul>
            </nav>
            <div class="copyright">
                &copy;
                {{data | date: 'yyyy'}}, Designed by
                <a href="https://www.invisionapp.com" target="_blank">Invision</a>. Coded by
                <a href="https://www.creative-tim.com" target="_blank">Creative Tim</a>.
            </div>
        </div>
    </footer>
</div>
